(this["webpackJsonpcoffee-crush"]=this["webpackJsonpcoffee-crush"]||[]).push([[0],{11:function(e,t,n){e.exports={subtleHeading:"PreparationCard_subtleHeading__3I8px",list:"PreparationCard_list__3gMvm",listItem:"PreparationCard_listItem__2fSSe"}},110:function(e,t,n){},12:function(e,t,n){e.exports={btnContainer:"RadioButton_btnContainer__3Cm0B",hiddenInput:"RadioButton_hiddenInput__277Mw",roundToggleButton:"RadioButton_roundToggleButton__3P-ux",btnLabel:"RadioButton_btnLabel__kbciV"}},13:function(e,t,n){e.exports={navigation:"Navigation_navigation__3JMeS",title:"Navigation_title__1I0yt",navButton:"Navigation_navButton__244cM"}},153:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/bell.e775700b.mp3"},154:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/start.c5edceb4.mp3"},155:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(43),o=n.n(a),c=(n(110),n(5)),s=n(23),u=n(24),l=n.n(u),d=n(0),f=function(e){var t=e.children;return Object(d.jsx)("div",{className:l.a.flexCardContainer,children:t})},p=function(e){var t=e.children,n=e.className;return Object(d.jsx)("li",{className:"".concat(l.a.flexCardListItem," ").concat(n),children:Object(d.jsx)("div",{className:l.a.flexCard,children:t})})},j=n(12),m=n.n(j),b=n(6);function h(e){var t=e.bean,n=e.water,r=e.ratio;return{groundCoffee:t||n/r,waterVolume:n||t*r}}function O(e){return Math.round(e).toString()}var x=n(4),_=n.n(x),w=function(e){var t=e.methodDetails,n=e.groundCoffee,i=e.water,a=e.setGroundCoffee,o=e.setWater,c=Object(r.useRef)(t),s=Object(r.useRef)(null),u=b.a.utils.selector(s),l=Object(r.useRef)(),f=t.ratio,j=t.grindSize,m=Object(r.useCallback)((function(e){var t=Number(e.target.value);if("ground_coffee"===e.target.id){var n=h({bean:t,ratio:f});a(t),o(n.waterVolume)}else{var r=h({water:t,ratio:f});a(r.groundCoffee),o(t)}}),[f,a,o]);return Object(r.useLayoutEffect)((function(){t!==c.current&&(l.current=b.a.timeline().to(u(".toTilt"),{rotation:25,duration:.3}).to(u(".toTilt"),{rotation:0,duration:1,ease:"back"})),c.current=t}),[t,c,u]),Object(d.jsx)(p,{children:Object(d.jsxs)("div",{id:"dose-section",children:[Object(d.jsx)("h2",{className:"heading",children:"Decide on dose"}),Object(d.jsxs)("div",{ref:s,className:"spaced-container",children:[Object(d.jsxs)("div",{className:_.a.formWrapper,children:[Object(d.jsx)("div",{className:" ".concat(_.a.formInCircle," toTilt"),children:j}),Object(d.jsx)("label",{className:_.a.formLabel,children:"Grind Size"})]}),Object(d.jsxs)("div",{className:_.a.formWrapper,children:[Object(d.jsxs)("div",{className:" ".concat(_.a.formInCircle," toTilt"),children:[Object(d.jsx)("input",{className:_.a.numberInput,type:"number",name:"ground_coffee",id:"ground_coffee",value:O(n),onChange:m})," ","g"]}),Object(d.jsx)("label",{className:_.a.formLabel,children:"Ground Coffee"})]}),Object(d.jsxs)("div",{className:_.a.formWrapper,children:[Object(d.jsxs)("div",{className:" ".concat(_.a.formInCircle," toTilt"),children:[Object(d.jsx)("input",{className:_.a.numberInput,type:"number",name:"water",id:"water",value:O(i),onChange:m})," ","ml"]}),Object(d.jsx)("label",{className:_.a.formLabel,children:"Water"})]})]})]})})},g=n(11),v=n.n(g),N=function(e){var t=e.methodDetails,n=e.coffeeNeeded,r=e.waterNeeded;return Object(d.jsx)(p,{children:Object(d.jsxs)("div",{id:"ready_page",children:[Object(d.jsx)("h2",{className:"heading",children:"Prepare"}),Object(d.jsx)("h4",{className:v.a.subtleHeading,children:"You will need ..."}),Object(d.jsxs)("ul",{className:v.a.list,children:[Object(d.jsxs)("li",{className:v.a.listItem,children:[t.grindSize," ground coffee:"," ",O(n)," g"]}),Object(d.jsxs)("li",{className:v.a.listItem,children:[t.waterTemperature," Water:"," ",O(r)," ml"]}),t.tools.map((function(e,t){return Object(d.jsx)("li",{className:v.a.listItem,children:e},t)}))]})]})})},y=function(e){var t=e.method,n=e.setMethod,r=e.chosenMethodDetails,i=e.groundCoffee,a=e.setGroundCoffee,o=e.water,c=e.setWater,u=function(e){n(e.name),a(e.defaultCoffeeInGram),c(e.defaultWaterInMl)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(f,{children:[Object(d.jsxs)(p,{children:[Object(d.jsx)("h2",{className:"heading",children:"Choose a brew method"}),Object(d.jsx)("div",{className:"spaced-container",children:s.map((function(e){return function(e,t,n){return Object(d.jsxs)("div",{className:m.a.btnContainer,children:[Object(d.jsx)("input",{className:m.a.hiddenInput,id:e.name,type:"radio",onChange:function(){return n(e)},checked:e.name===t}),Object(d.jsx)("div",{className:m.a.roundToggleButton,children:Object(d.jsx)("label",{className:m.a.btnLabel,htmlFor:e.name,children:e.name})})]},e.name)}(e,t,u)}))})]}),Object(d.jsx)(w,{methodDetails:r,groundCoffee:i,water:o,setGroundCoffee:a,setWater:c}),Object(d.jsx)(N,{methodDetails:r,coffeeNeeded:i,waterNeeded:o})]})})},C=n(32),S=n(8),I=n.n(S),W=n(13),D=n.n(W),T=function(e){var t=e.methodDetails,n=e.onClose;return Object(d.jsxs)("div",{className:D.a.navigation,children:[Object(d.jsx)("button",{className:D.a.navButton,onClick:n,children:"Close"}),Object(d.jsx)("h3",{className:D.a.title,children:t.name}),Object(d.jsx)("a",{className:D.a.navButton,href:t.learn,target:"_blank",rel:"noreferrer",children:"Learn"})]})},P=n(44),L=n.n(P),A=function(e){var t=e.time,n=("0"+Math.floor(t/60%60)).toString().slice(-2),r=("0"+Math.floor(t%60)).toString().slice(-2);return Object(d.jsx)("div",{id:"stopwatch",children:Object(d.jsxs)("div",{className:L.a.clock,children:[Object(d.jsxs)("span",{children:[n,":"]}),Object(d.jsx)("span",{children:r})]})})},R=n(14),M=n(7),k=n.n(M),B=function(e){var t=e.pieData,n=e.pieArc;return(0,e.pie)(t).map((function(e){var t,r=e.data.type;return t="pour"===r?"steelblue":"wait"===r?"#3a3a3c":"swirl"===r||"stir"===r?"darkgoldenrod":"darkcyan",Object(d.jsx)("g",{className:k.a.pieChart,children:Object(d.jsx)("path",{fill:t,d:n(e)})},e.index)}))},G=function(e){var t=e.pieData,n=e.pieArc,r=e.pie,i=e.time;return r(t).map((function(e){var t;return t=e.index===i?"goldenrod":e.index<i?"darkgoldenrod":"none",Object(d.jsx)("g",{className:k.a.pieNeedle,children:Object(d.jsx)("path",{fill:t,d:n(e)})},e.index)}))},V=n(158),H=function(e){var t=e.data,n=e.currentStep,i=e.isRunning,a=e.untilNextStep,o=Object(r.useMemo)((function(){var e=t[n-1];return i?"pour"===e.type?"Pour until ".concat(O(e.fractionOfWater),"ml"):"end"===e.type?"Push & Done":"".concat(e.type," ").concat(a,"sec"):"Push & Start"}),[t,n,a,i]);return Object(d.jsx)(V.a,{className:k.a.countDownTimer,textAnchor:"middle",verticalAnchor:"middle",width:30,children:o})},F=window.innerWidth<window.innerHeight?.6*window.innerWidth:.6*window.innerHeight,E=.5*F,z=.9*E,Y=.75*E,J=Object(R.a)().innerRadius(Y).outerRadius(z),K=Object(R.a)().outerRadius(Y).innerRadius(Y-10),Q=function(e){return e.duration},U=function(e){return e.step},X=function(e){var t=e.time,n=e.data,i=e.isRunning,a=e.currentStep,o=e.untilNextStep,c=Object(r.useMemo)((function(){var e=n.reduce((function(e,t){return e+t.duration}),0);return Array(e).fill({step:1})}),[n]),s=Object(r.useMemo)((function(){return Object(R.b)().sort(null).value(U)}),[]),u=Object(r.useMemo)((function(){return Object(R.b)().sort(null).value(Q)}),[]);return Object(d.jsx)("svg",{width:F,height:F,children:Object(d.jsxs)("g",{transform:"translate(".concat(E,",").concat(E,")"),children:[Object(d.jsx)(G,{time:t,pieData:c,pie:s,pieArc:K}),Object(d.jsx)(B,{pieData:n,pie:u,pieArc:J}),Object(d.jsx)(Z,{}),Object(d.jsx)(H,{data:n,currentStep:a,untilNextStep:o,isRunning:i})]})})},Z=function(){return Object(d.jsx)("circle",{className:k.a.button,cx:"0",cy:"0",r:Y-10-3})},q=n(153),$=n(154),ee=function(e){var t=e.time,n=e.steps,i=e.currentStep,a=e.stepsLeft,o=e.untilNextStep,c=e.isRunning,s=e.setIsRunning,u=Object(r.useRef)(new Audio);return u.current.autoplay=!0,Object(r.useEffect)((function(){a>0&&1===o&&(u.current.src=q.default)}),[a,u,o]),Object(d.jsx)("div",{id:"donutProgressChart",onClick:function(){s(!c),u.current.src=$.default},children:Object(d.jsx)(X,{time:t,data:n,isRunning:c,currentStep:i,untilNextStep:o})})},te=n(2),ne=n.n(te),re=function(e){var t=e.steps,n=e.currentStep,r=e.isRunning;return Object(d.jsxs)("div",{className:ne.a.scrollable,children:[Object(d.jsx)("h4",{className:ne.a.heading,children:"Steps"}),Object(d.jsx)("ul",{className:ne.a.list,children:r?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("li",{className:ne.a.listItem,children:[Object(d.jsx)("span",{className:ne.a.timeGuide,children:"Do"}),Object(d.jsx)("span",{className:ne.a.activeText,children:t[n-1].instruction})]}),t[n]&&Object(d.jsxs)("li",{className:ne.a.listItem,children:[Object(d.jsx)("span",{className:ne.a.timeGuide,children:"Next Up"}),Object(d.jsx)("span",{className:ne.a.instruction,children:t[n].instruction})]})]}):t.map((function(e,t){return Object(d.jsxs)("li",{className:ne.a.listItem,children:[Object(d.jsxs)("span",{className:ne.a.timeGuide,children:[e.duration," second",e.duration>1?"s":""]}),Object(d.jsx)("span",{className:"".concat(ne.a.instruction," ").concat(t===n-1&&ne.a.activeText,"\n                  }"),children:e.instruction})]},t)}))})]})},ie=function(e){var t=e.methodDetails,n=e.water,i=e.isBrewing,a=e.setIsBrewing,o=Object(r.useState)(!1),s=Object(c.a)(o,2),u=s[0],l=s[1],f=Object(r.useState)(0),p=Object(c.a)(f,2),j=p[0],m=p[1],b=Object(r.useState)(1),h=Object(c.a)(b,2),x=h[0],_=h[1],w=Object(r.useState)(t.steps[0].duration),g=Object(c.a)(w,2),v=g[0],N=g[1],y=Object(r.useState)(0),S=Object(c.a)(y,2),W=S[0],D=S[1],P=t.steps.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{fractionOfWater:e.fractionOfWater*n,instruction:e.instruction.replace(/\{(\d\.?\d{0,})\}/g,(function(e,t){return O(+t*n)}))})})),L=P[x-1].fractionOfWater,R=P.length-x;return Object(r.useEffect)((function(){if(u){var e;return e=window.setInterval((function(){return function(){m((function(e){return e+1})),v>0&&N(v-1);R>0&&1===v&&(_((function(e){return e+1})),N(P[x].duration),L&&D(L))}()}),1e3),function(){return window.clearInterval(e)}}}),[u,v,x,P,R,L]),Object(d.jsxs)("div",{className:"".concat(I.a.slider," ").concat(!i&&I.a.close),children:[Object(d.jsx)(T,{methodDetails:t,onClose:function(){a(!1),l(!1),m(0),_(1),N(t.steps[0].duration),D(0)}}),Object(d.jsxs)("div",{className:I.a.flexDirectionSwichContainer,children:[Object(d.jsxs)("div",{className:I.a.upAndLeft,children:[Object(d.jsx)(A,{time:j}),Object(d.jsx)(ee,{time:j,steps:P,currentStep:x,stepsLeft:R,untilNextStep:v,isRunning:u,setIsRunning:l})]}),Object(d.jsxs)("div",{className:I.a.bottomAndRight,children:[Object(d.jsx)(ae,{fraction:W,total:n,unit:"ml"}),Object(d.jsx)(re,{isRunning:u,steps:P,currentStep:x})]})]})]})},ae=function(e){var t=e.fraction,n=e.total,r=e.unit;return Object(d.jsx)("div",{className:I.a.largeDigit,children:"".concat(O(t),"/").concat(O(n)).concat(r)})};n(155);var oe=function(){var e=Object(r.useState)("The Ultimate V60"),t=Object(c.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)(!1),o=Object(c.a)(a,2),u=o[0],l=o[1],f=Object(r.useMemo)((function(){return s.find((function(e){return e.name===n}))}),[n]),p=Object(r.useState)(f.defaultCoffeeInGram),j=Object(c.a)(p,2),m=j[0],h=j[1],O=Object(r.useState)(f.defaultWaterInMl),x=Object(c.a)(O,2),_=x[0],w=x[1],g=Object(r.useRef)(null),v=Object(r.useRef)(),N=Object(r.useCallback)((function(){var e=b.a.utils.selector(g);if(g.current){var t=g.current,n=t.scrollTop,r=t.scrollHeight;n+t.clientHeight===r&&b.a.to(e(".prime-button"),{opacity:1,border:"5px solid goldenrod",duration:.5,ease:"power2.inout"})}}),[]);return Object(r.useLayoutEffect)((function(){var e=b.a.utils.selector(g);!u&&(v.current=b.a.timeline().from(e(".prime-button"),{delay:1,opacity:1,border:"5px solid goldenrod",duration:2,ease:"power2.inout"}))}),[u]),Object(d.jsxs)("div",{className:"App",ref:g,onScroll:N,children:[Object(d.jsx)("h1",{className:"app-title",children:"Coffee Crush"}),Object(d.jsx)(y,{method:n,setMethod:i,chosenMethodDetails:f,groundCoffee:m,setGroundCoffee:h,water:_,setWater:w}),Object(d.jsx)(ie,{methodDetails:f,water:_,isBrewing:u,setIsBrewing:l}),!u&&Object(d.jsx)("button",{className:"prime-button",onPointerEnter:function(e){var t=e.currentTarget;b.a.to(t,{opacity:1,border:"5px solid goldenrod"})},onPointerLeave:function(e){var t=e.currentTarget;b.a.to(t,{opacity:.4,border:"none"})},onClick:function(){return l(!0)},children:"Brew"})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(oe,{})}),document.getElementById("root")),ce()},2:function(e,t,n){e.exports={scrollable:"StepsList_scrollable__2aZ9j",list:"StepsList_list__33TY0",listItem:"StepsList_listItem__3QnQ6",heading:"StepsList_heading__LA-iA",timeGuide:"StepsList_timeGuide__2SrtH",instruction:"StepsList_instruction__3iTqs",activeText:"StepsList_activeText__3Q-4h"}},23:function(e){e.exports=JSON.parse('[{"name":"The Ultimate V60","learn":"https://youtu.be/AI4ynXzkSQo","grindSize":"Medium","defaultCoffeeInGram":30,"defaultWaterInMl":500,"waterTemperature":"100\u2103","ratio":16.66,"tools":["A Hario V60 coffee brewer.","V60 filter paper.","An eletronic scale.","A teaspoon."],"steps":[{"type":"pour","fractionOfWater":0.12,"duration":10,"instruction":"Pour {0.12} ml of water and wait to bloom."},{"type":"swirl","duration":10,"instruction":"Swirl the brewer until the grounds look well mixed."},{"type":"wait","duration":30,"instruction":"Wait 30 seconds."},{"type":"pour","fractionOfWater":0.6,"duration":30,"instruction":"Pour water until {0.6} ml."},{"type":"wait","duration":5,"instruction":"Wait 5 seconds."},{"type":"pour","fractionOfWater":1,"duration":30,"instruction":"Keep pouring water until {1} ml."},{"type":"stir","duration":5,"instruction":"Stir for 5 seconds."},{"type":"wait","duration":20,"instruction":"Wait for the drawdown."},{"type":"end","duration":0,"instruction":"Enjoy your coffee!"}]},{"name":"Tetsu Kasuya V60","learn":"https://youtu.be/wmCW8xSWGZY","grindSize":"Coarse","defaultCoffeeInGram":20,"defaultWaterInMl":300,"waterTemperature":"100\u2103","ratio":15,"tools":["A Hario V60 coffee brewer.","V60 filter paper.","An eletronic scale."],"steps":[{"type":"pour","fractionOfWater":0.2,"duration":10,"instruction":"Pour {0.2} ml of water. (Adjustable: {0.17} ml for more sweetness; {0.23} ml offers more acidity)."},{"type":"wait","duration":35,"instruction":"Wait 35 seconds."},{"type":"pour","fractionOfWater":0.4,"duration":10,"instruction":"Pour water until {0.4} ml."},{"type":"wait","duration":35,"instruction":"Wait 35 seconds."},{"type":"pour","fractionOfWater":0.6,"duration":10,"instruction":"Pour until {0.6} ml."},{"type":"wait","duration":35,"instruction":"Wait 35 seconds."},{"type":"pour","fractionOfWater":0.8,"duration":10,"instruction":"Pour until {0.8} ml."},{"type":"wait","duration":35,"instruction":"Wait 35 seconds."},{"type":"pour","fractionOfWater":1,"duration":10,"instruction":"Finish the pour at {1} ml."},{"type":"wait","duration":25,"instruction":"Wait for the drawdown."},{"type":"end","duration":0,"instruction":"Enjoy your coffee!"}]},{"name":"French Press","learn":"https://youtu.be/st571DYYTR8","grindSize":"Medium","defaultCoffeeInGram":30,"defaultWaterInMl":500,"waterTemperature":"100\u2103","ratio":16.66,"tools":["A french press brewer.","An eletronic scale.","Two table spoons."],"steps":[{"type":"pour","fractionOfWater":1,"duration":10,"instruction":"Pour {1} ml of water."},{"type":"wait","duration":240,"instruction":"Wait 4 minutes."},{"type":"stir","duration":20,"instruction":"Use spoons to stir the crust and discard what remains floating."},{"type":"wait","duration":300,"instruction":"Wait at least 5 minutes."},{"type":"press","duration":10,"instruction":"Put the plunger in, not all the way, but just until it\'s sitting on the surface of coffee."},{"type":"end","duration":0,"instruction":"Enjoy your coffee!"}]},{"name":"Iced filter coffee","learn":"https://youtu.be/PApBycDrPo0","grindSize":"Fine","defaultCoffeeInGram":35,"defaultWaterInMl":500,"waterTemperature":"Ice + 100\u2103","ratio":14.3,"tools":["A Hario V60 coffee brewer.","V60 filter paper.","An eletronic scale.","A teaspoon."],"steps":[{"type":"pour","fractionOfWater":0.4,"duration":10,"instruction":"Start with {0.4} g of ice in the decanter."},{"type":"pour","fractionOfWater":0.52,"duration":10,"instruction":"Pour water until {0.52} ml."},{"type":"swirl","duration":10,"instruction":"Swirl the brewer until the grounds look well mixed."},{"type":"wait","duration":30,"instruction":"Wait 30 seconds and wait to bloom."},{"type":"stir","duration":5,"instruction":"Stir for 5 seconds."},{"type":"pour","fractionOfWater":1,"duration":150,"instruction":"Slowly pour water until {1} ml."},{"type":"wait","duration":20,"instruction":"Wait for the drawdown."},{"type":"swirl","duration":15,"instruction":"Swirl the brewer until ice cubes are fully melted."},{"type":"end","duration":0,"instruction":"Enjoy your coffee!"}]}]')},24:function(e,t,n){e.exports={flexCardContainer:"Card_flexCardContainer__1klXT",flexCardListItem:"Card_flexCardListItem__1HmSY",flexCard:"Card_flexCard__1fjIE","flex-card-content":"Card_flex-card-content__14qdT"}},4:function(e,t,n){e.exports={formWrapper:"DoseCard_formWrapper__3u-vA",formInCircle:"DoseCard_formInCircle__iPwPI",formLabel:"DoseCard_formLabel__1Lxis",numberInput:"DoseCard_numberInput__2cxb9"}},44:function(e,t,n){e.exports={clock:"Stopwatch_clock__3GJKS",onOffButton:"Stopwatch_onOffButton__2WMsy",active:"Stopwatch_active__2Zo2k"}},7:function(e,t,n){e.exports={pieNeedle:"DonutProgress_pieNeedle__GQdWH",pieChart:"DonutProgress_pieChart__2T4pF",button:"DonutProgress_button__zKX9R",countDownTimer:"DonutProgress_countDownTimer__3eee5"}},8:function(e,t,n){e.exports={slider:"InstructionView_slider__11104",close:"InstructionView_close__TVFvd",flexDirectionSwichContainer:"InstructionView_flexDirectionSwichContainer__2Kfu4",bottomAndRight:"InstructionView_bottomAndRight__GxPDP",upAndLeft:"InstructionView_upAndLeft__1sOL_",largeDigit:"InstructionView_largeDigit__jWR_P"}}},[[156,1,2]]]);
//# sourceMappingURL=main.cd305e74.chunk.js.map
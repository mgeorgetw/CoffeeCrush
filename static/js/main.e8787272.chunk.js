(this["webpackJsonpcoffee-crush"]=this["webpackJsonpcoffee-crush"]||[]).push([[0],{10:function(e,t,n){e.exports={slider:"InstructionView_slider__11104",close:"InstructionView_close__TVFvd",flexLayout:"InstructionView_flexLayout__3c4xk",bottomAndRight:"InstructionView_bottomAndRight__GxPDP",upAndLeft:"InstructionView_upAndLeft__1sOL_"}},11:function(e,t,n){e.exports={btnContainer:"RadioButton_btnContainer__3Cm0B",hiddenInput:"RadioButton_hiddenInput__277Mw",roundToggleButton:"RadioButton_roundToggleButton__3P-ux",btnLabel:"RadioButton_btnLabel__kbciV"}},12:function(e,t,n){e.exports={navigation:"Navigation_navigation__3JMeS",title:"Navigation_title__1I0yt",leftButton:"Navigation_leftButton__3_Tqn",linkButton:"Navigation_linkButton__3YQYF"}},17:function(e){e.exports=JSON.parse('[{"method":"The Ultimate V60","learn":"https://youtu.be/AI4ynXzkSQo","grindSize":"Medium","defaultCoffeeInGram":30,"defaultWaterInMl":500,"waterTemperature":"100\u2103","ratio":16.66,"tools":["A Hario V60 coffee brewer.","V60 filter paper.","An eletronic scale.","A tea spoon."],"steps":[{"type":"pour","volume":60,"duration":10,"instruction":"Pour {0.12} ml of water and wait to bloom."},{"type":"swirl","duration":10,"instruction":"Swirl the brewer until the grounds look well mixed."},{"type":"wait","duration":30,"instruction":"Wait 30 seconds."},{"type":"pour","volume":240,"duration":30,"instruction":"Pour water until {0.6} ml."},{"type":"wait","duration":5,"instruction":"Wait 5 seconds."},{"type":"pour","volume":200,"duration":30,"instruction":"Keep pouring water until {1} ml."},{"type":"stir","duration":5,"instruction":"Stir for 5 seconds."},{"type":"wait","duration":20,"instruction":"Wait for the drawdown."},{"type":"end","duration":0,"instruction":"Enjoy your coffee!"}]},{"method":"French Press","learn":"https://youtu.be/st571DYYTR8","grindSize":"Medium","defaultCoffeeInGram":30,"defaultWaterInMl":500,"waterTemperature":"100\u2103","ratio":16.66,"tools":["A french press brewer.","An eletronic scale.","Two spoons."],"steps":[{"type":"pour","volume":500,"duration":10,"instruction":"Pour {1} ml of water."},{"type":"wait","duration":240,"instruction":"Wait 4 minutes."},{"type":"stir","duration":15,"instruction":"Use spoons to stir floating crusts and discard what remains floating."},{"type":"wait","duration":300,"instruction":"Wait at least 5 minutes."},{"type":"end","duration":0,"instruction":"Enjoy your coffee!"}]},{"method":"Iced filter coffee","learn":"https://youtu.be/PApBycDrPo0","grindSize":"Fine","defaultCoffeeInGram":35,"defaultWaterInMl":500,"waterTemperature":"Ice + 100\u2103","ratio":14.3,"tools":["A Hario V60 coffee brewer.","V60 filter paper.","An eletronic scale.","A tea spoon."],"steps":[{"type":"pour","volume":200,"duration":10,"instruction":"Start with {0.4} g of ice in the decanter."},{"type":"pour","volume":60,"duration":10,"instruction":"Pour water until {0.52} ml."},{"type":"swirl","duration":10,"instruction":"Swirl the brewer until the grounds look well mixed."},{"type":"wait","duration":30,"instruction":"Wait 30 seconds and wait to bloom."},{"type":"stir","duration":5,"instruction":"Stir for 5 seconds."},{"type":"pour","volume":240,"duration":150,"instruction":"Slowly pour water until {1} ml."},{"type":"wait","duration":20,"instruction":"Wait for the drawdown."},{"type":"swirl","duration":15,"instruction":"Swirl the brewer until ice cubes are fully melted."},{"type":"end","duration":0,"instruction":"Enjoy your coffee!"}]}]')},2:function(e,t,n){e.exports={scrollable:"StepsList_scrollable__2aZ9j",list:"StepsList_list__33TY0",listItem:"StepsList_listItem__3QnQ6",heading:"StepsList_heading__LA-iA",timeGuide:"StepsList_timeGuide__2SrtH",instruction:"StepsList_instruction__3iTqs",activeText:"StepsList_activeText__3Q-4h"}},34:function(e,t,n){e.exports={onOffButton:"Stopwatch_onOffButton__2WMsy",active:"Stopwatch_active__2Zo2k",clock:"Stopwatch_clock__3GJKS"}},4:function(e,t,n){e.exports={formWrapper:"DoseCard_formWrapper__3u-vA",formInCircle:"DoseCard_formInCircle__iPwPI",formLabel:"DoseCard_formLabel__1Lxis",numberInput:"DoseCard_numberInput__2cxb9"}},6:function(e,t,n){e.exports={pieNeedle:"DonutProgress_pieNeedle__97Mgb",pieChart:"DonutProgress_pieChart__2_8dM",pieLabel:"DonutProgress_pieLabel__3ikD3",button:"DonutProgress_button__1FIDb",countDownTimer:"DonutProgress_countDownTimer__2pLlE",pieLabelStroke:"DonutProgress_pieLabelStroke__2HMjG",legendLabel:"DonutProgress_legendLabel__3oc2U",legend:"DonutProgress_legend__mbBqN",hideshow:"DonutProgress_hideshow__2jgOT"}},9:function(e,t,n){e.exports={subtleHeading:"PreparationCard_subtleHeading__3I8px",list:"PreparationCard_list__3gMvm",listItem:"PreparationCard_listItem__2fSSe"}},93:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/bell.e775700b.mp3"},97:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/start.c5edceb4.mp3"},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),a=n(33),s=n.n(a),c=(n(93),n(5)),o=n(17),l=n(0),u=function(e){var t=e.children,n=e.className;return Object(l.jsx)("li",{className:"flex-card-listitem ".concat(n),children:Object(l.jsx)("div",{className:"flex-card",children:t})})},d=n(11),j=n.n(d);function p(e){var t=e.bean,n=e.water,i=e.ratio;return{calcBean:t||n/i,finalAmount:n||t*i}}var b=n(4),m=n.n(b),h=function(e){var t=e.ratio,n=e.grindSize,i=e.beanWeight,r=e.water,a=e.setBeanWeight,s=e.setWater;return Object(l.jsx)(u,{children:Object(l.jsxs)("div",{id:"dose-section",children:[Object(l.jsx)("h2",{className:"heading",children:"Decide on dose"}),Object(l.jsxs)("div",{className:"centerSpacedFlexContainer",children:[Object(l.jsxs)("div",{className:m.a.formWrapper,children:[Object(l.jsx)("div",{className:m.a.formInCircle,children:n}),Object(l.jsx)("label",{className:m.a.formLabel,children:"Grind Size"})]}),Object(l.jsxs)("div",{className:m.a.formWrapper,children:[Object(l.jsxs)("div",{className:m.a.formInCircle,children:[Object(l.jsx)("input",{className:m.a.numberInput,type:"number",name:"ground_coffee",id:"ground_coffee",value:Math.round(i),onChange:function(e){var n=e.target.value,i=p({bean:Number(n),ratio:t});a(n),s(i.finalAmount)}})," ","g"]}),Object(l.jsx)("label",{className:m.a.formLabel,children:"Ground Coffee"})]}),Object(l.jsxs)("div",{className:m.a.formWrapper,children:[Object(l.jsxs)("div",{className:m.a.formInCircle,children:[Object(l.jsx)("input",{className:m.a.numberInput,type:"number",name:"water",id:"water",value:Math.round(r),onChange:function(e){var n=e.target.value,i=p({water:Number(n),ratio:t});a(i.calcBean),s(n)}})," ","ml"]}),Object(l.jsx)("label",{className:m.a.formLabel,children:"Water"})]})]})]})})},f=n(9),x=n.n(f),O=function(e){var t=e.methodDetails,n=e.coffeeNeeded,i=e.waterNeeded;return Object(l.jsx)(u,{children:Object(l.jsxs)("div",{id:"ready_page",children:[Object(l.jsx)("h2",{className:"heading",children:"Prepare"}),Object(l.jsx)("h4",{className:x.a.subtleHeading,children:"You will need ..."}),Object(l.jsxs)("ul",{className:x.a.list,children:[Object(l.jsxs)("li",{className:x.a.listItem,children:[t.grindSize," ground coffee: ",Math.round(n)," ","g"]}),Object(l.jsxs)("li",{className:x.a.listItem,children:[t.waterTemperature," Water: ",Math.round(i)," ml"]}),t.tools.map((function(e,t){return Object(l.jsx)("li",{className:x.a.listItem,children:e},t)}))]})]})})},_=function(e){var t=e.method,n=e.setMethod,i=e.setIsReady,r=e.chosenMethodDetails,a=e.beanWeight,s=e.setBeanWeight,c=e.water,d=e.setWater,p=null===r||void 0===r?void 0:r.grindSize;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"flex-card-list",children:[Object(l.jsxs)(u,{children:[Object(l.jsx)("h2",{className:"heading",children:"Choose a brew method"}),Object(l.jsx)("div",{className:"centerSpacedFlexContainer",children:o.map((function(e,i){return function(e,t,n,i,r){return Object(l.jsxs)("div",{className:j.a.btnContainer,children:[Object(l.jsx)("input",{className:j.a.hiddenInput,id:t,type:"radio",onChange:function(){return r(t)},checked:t===i}),Object(l.jsx)("div",{className:j.a.roundToggleButton,children:Object(l.jsx)("label",{className:j.a.btnLabel,htmlFor:t,children:n})})]},e)}(i,e.method,e.method,t,n)}))})]}),Object(l.jsx)(h,{ratio:r.ratio,grindSize:p,beanWeight:a,water:c,setBeanWeight:s,setWater:d}),Object(l.jsx)(O,{methodDetails:r,coffeeNeeded:a,waterNeeded:c})]}),Object(l.jsx)("button",{className:"prime_button",onClick:function(){return i(!0)},children:"I'm ready"})]})},g=n(24),w=n(12),v=n.n(w),N=function(e){var t=e.methodDetails,n=e.setIsReady,i=e.setIsRunning,r=e.setTime,a=e.setCurrentStep,s=e.setUntilNextStep;return Object(l.jsxs)("div",{className:v.a.navigation,children:[Object(l.jsx)("h3",{className:v.a.title,children:t.method}),Object(l.jsx)("button",{className:v.a.leftButton,onClick:function(){n(!1),i(!1),r(0),a(1),s(t.steps[0].duration)},children:"Close"}),Object(l.jsx)("a",{className:v.a.linkButton,href:t.learn,target:"_blank",rel:"noreferrer",children:"Learn"})]})},y=n(13),S=n(6),I=n.n(S),C=function(e){var t=e.pieData,n=e.pieArc,i=e.colorPie;e.currentStep;return i(t).map((function(e){var t,i=e.data.type;return t="pour"===i?"steelblue":"wait"===i?"#3a3a3c":"swirl"===i||"stir"===i?"darkgoldenrod":"darkcyan",Object(l.jsx)("g",{className:I.a.pieChart,children:Object(l.jsx)("path",{fill:t,d:n(e)})},e.index)}))},R=function(e){var t=e.pieData,n=e.pieArc,i=e.colorPie,r=e.time;return i(t).map((function(e){var t;return t=e.index===r?"goldenrod":"none",Object(l.jsx)("g",{className:I.a.pieNeedle,children:Object(l.jsx)("path",{fill:t,d:n(e)})},e.index)}))},D=function(e){var t=e.data,n=e.currentStep,r=e.isRunning,a=e.untilNextStep,s=e.pieRadius,c=Object(i.useMemo)((function(){var e=t[n-1];return"pour"===e.type?[e.type,"".concat(e.volume,"ml")]:[e.type,"".concat(a,"sec")]}),[t,n,a]);return Object(l.jsxs)("text",{className:"".concat(I.a.countDownTimer),textAnchor:"middle",x:s,y:s,dy:"-0.17em",children:[Object(l.jsx)("tspan",{children:r?c[0]:"Push"}),Object(l.jsx)("tspan",{x:s,dy:"1em",children:r?c[1]:"Start"})]})},L=window.innerWidth<window.innerHeight?.6*window.innerWidth:.6*window.innerHeight,P=L,W=.5*L,A=.9*W,M=.75*W,T=Object(y.a)().innerRadius(M).outerRadius(A),B=Object(y.a)().innerRadius(M).outerRadius(M-10),k=function(e){return e.duration},F=function(e){return e.step},G=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("defs",{children:Object(l.jsxs)("radialGradient",{id:"grad1",cx:"50%",cy:"50%",r:"50%",fx:"60%",fy:"60%",children:[Object(l.jsx)("stop",{offset:"0%",style:{stopColor:"#3a3a3c",stopOpacity:1}}),Object(l.jsx)("stop",{offset:"85%",style:{stopColor:"#3a3a3c",stopOpacity:1}}),Object(l.jsx)("stop",{offset:"100%",style:{stopColor:"#48484a",stopOpacity:1}})]})}),Object(l.jsx)("circle",{className:I.a.button,cx:"0",cy:"0",r:M-13})]})},V=function(e){for(var t=e.time,n=e.data,r=e.isRunning,a=e.currentStep,s=e.untilNextStep,c=Object(i.useMemo)((function(){return n.reduce((function(e,t){return e+t.duration}),0)}),[n]),o=[],u=0;u<=c;u++)o.push({step:1});var d=Object(i.useMemo)((function(){return Object(y.b)().sort(null).value(F)}),[]),j=Object(i.useMemo)((function(){return Object(y.b)().sort(null).value(k)}),[]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("svg",{width:L,height:P,children:[Object(l.jsxs)("g",{transform:"translate(".concat(W,",").concat(P/2,")"),children:[Object(l.jsx)(R,{time:t,pieData:o,colorPie:d,pieArc:B,dataValue:F}),Object(l.jsx)(C,{pieData:n,colorPie:j,pieArc:T,dataValue:k,currentStep:a}),Object(l.jsx)(G,{})]}),Object(l.jsx)(D,{data:n,currentStep:a,untilNextStep:s,pieRadius:W,isRunning:r})]})})},z=n(96),H=n(97),E=function(e){var t=e.time,n=e.steps,r=e.currentStep,a=e.stepsLeft,s=e.untilNextStep,c=e.isRunning,o=e.setIsRunning,u=Object(i.useRef)(new Audio);return u.current.autoplay=!0,Object(i.useEffect)((function(){a>0&&1===s&&(u.current.src=z.default,u.current.play())}),[a,u,s]),Object(l.jsx)("div",{id:"donutProgressChart",onClick:function(){o(!c),u.current.src=H.default},children:Object(l.jsx)(V,{time:t,data:n,isRunning:c,currentStep:r,untilNextStep:s})})},U=n(2),Y=n.n(U),J=function(e){var t=e.steps,n=e.currentStep,i=e.isRunning;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:Y.a.scrollable,children:[Object(l.jsx)("h4",{className:Y.a.heading,children:"Steps"}),Object(l.jsx)("ul",{className:Y.a.list,children:i?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("li",{className:Y.a.listItem,children:[Object(l.jsx)("span",{className:Y.a.timeGuide,children:"Do"}),Object(l.jsx)("span",{className:Y.a.activeText,children:t[n-1].instruction})]}),t[n]&&Object(l.jsxs)("li",{className:Y.a.listItem,children:[Object(l.jsx)("span",{className:Y.a.timeGuide,children:"Next Up"}),Object(l.jsx)("span",{className:Y.a.instruction,children:t[n].instruction})]})]}):t.map((function(e,t){return Object(l.jsxs)("li",{className:Y.a.listItem,children:[Object(l.jsxs)("span",{className:Y.a.timeGuide,children:[e.duration," second",e.duration>1?"s":""]}),Object(l.jsx)("span",{className:"".concat(Y.a.instruction," ").concat(t===n-1&&Y.a.activeText,"\n                  }"),children:e.instruction})]},t)}))})]})})},Q=n(34),q=n.n(Q),K=function(e){var t=e.time,n=("0"+Math.floor(t/60%60)).toString().slice(-2),i=("0"+Math.floor(t%60)).toString().slice(-2);return Object(l.jsx)("div",{id:"stopwatch",children:Object(l.jsxs)("div",{className:"digits ".concat(q.a.clock),children:[Object(l.jsxs)("span",{children:[n,":"]}),Object(l.jsx)("span",{children:i})]})})},Z=n(10),X=n.n(Z),$=function(e){var t=e.methodDetails,n=e.water,r=e.isReady,a=e.setIsReady,s=Object(i.useState)(0),o=Object(c.a)(s,2),u=o[0],d=o[1],j=Object(i.useState)(1),p=Object(c.a)(j,2),b=p[0],m=p[1],h=Object(i.useState)(t.steps[0].duration),f=Object(c.a)(h,2),x=f[0],O=f[1],_=Object(i.useState)(!1),w=Object(c.a)(_,2),v=w[0],y=w[1],S=t.steps.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{instruction:e.instruction.replace(/\{([^]+)\}/,(function(e,t){return Math.round(+t*n).toString()}))})})),I=S.length-b;return Object(i.useEffect)((function(){var e=0;return v&&(e=window.setInterval((function(){d((function(e){return e+1})),x>0&&O(x-1),I>0&&1===x&&(m((function(e){return e+1})),O(S[b].duration))}),1e3)),function(){return clearInterval(e)}}),[v,x,b,S,I]),Object(l.jsxs)("div",{className:"".concat(X.a.slider," ").concat(!r&&X.a.close),children:[Object(l.jsx)(N,{methodDetails:t,setIsReady:a,setIsRunning:y,setTime:d,setCurrentStep:m,setUntilNextStep:O}),Object(l.jsxs)("div",{className:X.a.flexLayout,children:[Object(l.jsxs)("div",{className:X.a.upAndLeft,children:[Object(l.jsx)(K,{time:u,isRunning:v,setIsRunning:y}),Object(l.jsx)(E,{time:u,steps:S,currentStep:b,stepsLeft:I,untilNextStep:x,isRunning:v,setIsRunning:y})]}),Object(l.jsx)("div",{className:X.a.bottomAndRight,children:Object(l.jsx)(J,{isRunning:v,steps:S,currentStep:b})})]})]})};n(98);var ee=function(){var e=Object(i.useState)("The Ultimate V60"),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(i.useState)(!1),s=Object(c.a)(a,2),u=s[0],d=s[1],j=o.find((function(e){return e.method===n})),p=Object(i.useState)(j.defaultCoffeeInGram),b=Object(c.a)(p,2),m=b[0],h=b[1],f=Object(i.useState)(j.defaultWaterInMl),x=Object(c.a)(f,2),O=x[0],g=x[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{className:"App-header",children:Object(l.jsx)("h1",{className:"app-title",children:"Coffee Crush"})}),Object(l.jsx)(_,{method:n,setMethod:r,isReady:u,setIsReady:d,chosenMethodDetails:j,beanWeight:m,setBeanWeight:h,water:O,setWater:g}),Object(l.jsx)($,{methodDetails:j,water:O,isReady:u,setIsReady:d})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,100)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),r(e),a(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(ee,{})}),document.getElementById("root")),te()}},[[99,1,2]]]);
//# sourceMappingURL=main.e8787272.chunk.js.map